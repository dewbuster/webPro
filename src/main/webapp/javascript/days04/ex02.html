<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google" content="notranslate">
<link rel="stylesheet" href="http://localhost/webPro/resources/cdn-main/example.css">
<script src="http://localhost/webPro/resources/cdn-main/example.js"></script>
<style>
 span.material-symbols-outlined{
    vertical-align: text-bottom;
 }
 #items-container{
  height: 200px;
  overflow: auto;
  border: 1px solid gray;
  padding: 3px;
 }
</style>
</head>
<body onload="init()">
<header>
  <h1 class="main"><a href="#" style="position: absolute;top:30px;">ddd Home</a></h1>
  <ul>
    <li><a href="#">로그인</a></li>
    <li><a href="#">회원가입</a></li>
  </ul>
</header>
<div>
  <xmp class="code">
    js 동적 요소 생성, 추가, 삭제, 수정
    생성 : createElement()
    추가 : appendChild(), insertBefore()
    삭제 : removeChild()
    교체 : replaceChild()
    확인 : hasChildNodes()

    설문조사: 항목수를 선택하면 -> 입력 텍스트박스 생성
  </xmp>
  <select name="itemCount" id="itemCount">
    <option value="">선택</option>
  </select>
  <br>
  항목 : 
  <br>
  <div id="items-container"></div>
  <!--
  항목 1 : <input type="text"><br>
  항목 2 : <input type="text"><br>
  항목 3 : <input type="text"><br>
   -->
</div>
<script>
  // [2]
  document.querySelector("#itemCount").addEventListener("change", function(){
    let htmlString ="";
    const container = document.querySelector("#items-container")
    let count = this.options[this.selectedIndex].value;
    container.innerHTML = "";
    for (var i = 1; i <= count; i++) {
      htmlString +=  `Item ${i} : <input type="text" id="item-${i}" name="item-${i}"><br>`;
    }
    container.innerHTML = htmlString;
  });

  /* [1]
  document.querySelector("#itemCount").addEventListener("change", function(){
    const container = document.querySelector("#items-container")
    let count = this.options[this.selectedIndex].value;
    // container.innerHTML = "";
    while(container.firstChild){
      container.removeChild(container.firstChild)
    }
    for (var i = 1; i <= count; i++) {
      let itemNo = document.createTextNode(`항목 ${i} : `);
      container.appendChild(itemNo);
    
      let item = document.createElement("input");
      item.setAttribute("type", "text");
      item.setAttribute("id", `item-${i}`);
      item.setAttribute("name", `item-${i}`);
      item.className = "long";
      container.appendChild(item);
    
      let br = document.createElement("br");
      container.appendChild(br);
	}
  });
  */
  function init(){
    // select > option 15개 추가
    const sel = document.querySelector("#itemCount");
    for (var i = 1; i <= 15; i++) {
      // = new Option()
      const op =new Option(i, i);
      sel.options[i] = op;
    }
    
    /* [1]
    for (var i = 1; i <= 15; i++) {
      const op = document.createElement("option");
      op.setAttribute("value", i);
      op.innerText = i;
      sel.appendChild(op);
	  }
      */
  }

</script>
</body>
</html>